
%% visual part
%run this twice
handles.numberoption = 132;
highpercent = 10/100;
lowpercent = 90/100;
handles.nohigh = round(highpercent * handles.numberoption);
handles.nolow = round(lowpercent * handles.numberoption);
for i=1:22
lowrange = datasample(1001:1300,handles.nolow,'Replace',false);
highrange = datasample(16601:16900,handles.nohigh,'Replace',false);
values(i,:) = datasample([lowrange,highrange],handles.numberoption);
fixed(i) = datasample(1350:1650,1,'Replace',false);
end
fixed1 = fixed;
values1 =values;
fixed2 = fixed;
values2 =values;

%% bandit part
handles.noclick=0;
handles.outA = 845;
goodout = 1690;
trials = 100;
handles.periodno=20;
handles.roundno = 10;
goodorbadpercentage = 50/100;
good_percentage = 90/100;
bad_percentage = 10/100;
goodorbad_no = trials * goodorbadpercentage;
good_no_g = trials * good_percentage;
bad_no_g = trials * bad_percentage;
good_no_b = trials * bad_percentage;
bad_no_b = trials * good_percentage;
trialno = handles.periodno * handles.roundno;
handles.trialno = trialno;
periodtype1 = [ones(goodorbadpercentage*handles.periodno,1)',zeros(goodorbadpercentage*handles.periodno,1)'];
periodtype = periodtype1(randperm(length(periodtype1)));
for i1=1:handles.periodno
goodsample = goodout*[ones(good_no_g,1)',zeros(bad_no_g,1)'];
goodsample = goodsample(randperm(length(goodsample)));
badsample = goodout*[ones(good_no_b,1)',zeros(bad_no_b,1)'];
badsample = badsample(randperm(length(badsample)));
mysample =1:trials;
if (periodtype(i1) == 1)
    mysample1 = mysample(randperm(length(mysample)));
    for j1=1:handles.roundno
    
        tmpround(i1,j1) = goodsample(mysample1(j1));
    end
else
    mysample2 = mysample(randperm(length(mysample)));
for j1=1:handles.roundno
        tmpround(i1,j1) = badsample(mysample2(j1));
end
end
    
end

%make an 1-d array for all periods and rounds for each person with each
%period as good or bad

outB =reshape(tmpround',1,trialno);
